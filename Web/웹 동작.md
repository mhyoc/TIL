# 웹의 동작 원리

> 클라이언트가 서버에 요청(Request)을 보내면, 서버는 그에 대한 응답(Response)을 돌려준다.

---

## 웹이 동작하는 순서

1. 사용자가 웹 브라우저의 검색창에 특정 사이트의 주소를 입력한다.
2. 웹 브라우저가 DNS에게 특정 사이트의 (도메인)주소를 요청한다.
3. DNS가 웹 브라우저에게 사이트의 IP주소를 응답한다.
4. 웹 브라우저가 웹 서버에게 IP 주소를 이용하여 html 문서를 요청한다. 
5. 웹 서버는 바로 웹 페이지를 공급하지 못하고, 웹 애플리케이션 서버(WAS)와 데이터 베이스에서 웹 페이지 작업을 처리한다.
6. 작업 처리 결과를 웹 서버로 보낸다. 
7. 웹 서버는 웹 브라우저에게 html 문서 결과를 응답한다.  
8. 웹 브라우저는 화면에 웹 페이지를 출력한다.

---

## 웹 동작 방식, 식당에 비유하기

웹의 구조는 레스토랑의 주문 과정과 비슷하게 생각할 수 있다.

- 손님(사용자)은 종업원(클라이언트)에게 파스타를 주문한다.  
- 종업원은 그 주문을 요리사(서버)에게 전달한다.  
- 요리사는 레시피에 따라 요리를 만들고, 완성된 파스타를 종업원에게 전달한다.  
- 종업원은 완성된 요리를 손님에게 서빙한다.

즉,  
> 사용자가 요청(Request)을 보내면, 서버는 해당 요청에 맞는 응답(Response)을 제공한다.

---

## 웹 클라이언트 (Web Client)

웹 브라우저(Chrome, Edge, Safari 등)는 **웹 클라이언트**의 역할을 한다.  
사용자가 주소창에 URL을 입력하면, 브라우저는 그 정보를 기반으로 **HTTP 요청 메시지**를 만들어 서버로 전송한다.  
이 요청은 “이 페이지를 보고 싶어요”라는 의미를 담고 있다.

---

## 웹 서버 (Web Server)

`웹 서버`는 웹 사이트의 HTML, CSS, JS, 이미지 등 **정적 파일(Static Files)** 을 저장하고 관리하는 프로그램이다.  
예시: Apache, Nginx, IIS 등

서버는 클라이언트의 HTTP 요청을 받아 필요한 파일을 찾아 응답으로 전달한다.  
즉, 웹 페이지를 실제로 사용자에게 전달하는 역할을 한다.

---

## WAS (Web Application Server)

웹 서버가 모든 로직과 데이터 처리를 직접 수행하면 부하가 커지기 때문에,  
이 일을 분담해주는 조력자가 바로 **WAS(Web Application Server)** 이다.

WAS는 웹 서버로부터 요청을 받아 **동적 페이지**를 처리한다.  
필요한 경우 **데이터베이스(DB)** 와 통신하여 데이터를 가져오거나 수정한다.  
그 결과를 HTML 형태로 생성해 다시 웹 서버에 전달한다.

이 구조 덕분에 서버의 부담이 줄고, 동적인 콘텐츠를 효율적으로 제공할 수 있다.

---

## 데이터베이스 (Database)

`DB`는 마치 레스토랑의 냉장고처럼, 필요한 재료(데이터)를 보관하는 곳이다.

- WAS가 데이터를 요청하면, DB는 SQL 질의를 처리해 결과를 돌려준다.  
- 새로운 정보를 저장할 때는, WAS의 요청을 받아 내용을 정리하여 저장한다.

즉, DB는 웹 서비스의 핵심 자원을 안전하고 체계적으로 관리하는 저장소이다.

---

## 정리

| 구성 요소 | 역할 | 비유 |
|------------|------|------|
| 웹 클라이언트 | 요청을 보내는 사용자 측 | 손님 |
| 웹 서버 | 요청을 받아 WAS에 전달, 결과 응답 | 종업원 |
| WAS | 비즈니스 로직 처리, 동적 페이지 생성 | 요리사 |
| DB | 데이터 저장 및 관리 | 냉장고 |

### 참고
> (https://swimjiy.github.io/2019-11-03-How-Web-Works)
> (https://all-young.tistory.com/21)