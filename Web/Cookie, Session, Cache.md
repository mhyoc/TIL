# Cookie, Session, Cache란?

> **Cookie, Session, Cache는 HTTP의 단점을 보완하기 위해 사용되는 기술이다.**  
> HTTP는 기본적으로 **Stateless**, **Connectionless** 방식을 사용하기 때문에  
> **사용자의 상태를 저장하거나 유지하는 기능이 없다.**

이 문제로 인해 로그인 유지, 사용자 정보 저장, 페이지 성능 최적화 등을 위해  
Cookie, Session, Cache가 필요하게 되었다.

---

# 왜 필요한가?

HTTP의 특징:

## 0.1. Stateless Protocol (비상태성)

- 서버는 클라이언트의 **상태를 기억하지 않는다**.
- 한 번 요청한 내용이 **다음 요청에서 유지되지 않는다**.
- → 로그인, 장바구니, 사용자 정보 유지가 어렵다.

## 0.2. Connectionless Protocol (비연결성)

- 요청(Request) → 응답(Response) 후 서버는 연결을 끊는다.
- 장시간 연결이 유지되지 않는다.

---

결국 실제 웹에서는 **상태 유지**가 필요하기 때문에  
→ **Cookie**, **Session**, **Cache** 같은 기술들이 등장했다.

---

# 1. Cookie (쿠키)

> **Cookie는 사용자의 브라우저(Local)에 저장되는 텍스트 데이터이다.**  
> HTTP 요청 시 자동으로 Header에 포함되어 서버로 전송된다.

---

## Cookie 특징

- 브라우저에 저장
- Key–Value 구조
- 만료 기간, 경로(path) 지정 가능
- 보안성 낮음 (클라이언트에 노출됨)
- 저장 용량 제한  
  - 브라우저 전체 300개  
  - 도메인당 20개  
  - 하나의 쿠키는 약 4KB

---

## 1.1. Cookie 동작 원리

1. 최초 요청 시 클라이언트는 쿠키 없음
2. 서버는 로그인 등 요청 처리 후 **Set-Cookie** 헤더로 쿠키 전달
3. 클라이언트는 쿠키를 저장
4. 이후 요청 시 Cookie를 Request Header에 자동 포함하여 전달
5. 서버는 해당 Cookie 값을 기반으로 인증/상태를 판단

---

## Cookie 사용 예시

- 자동 로그인
- 방문 기록 저장
- 팝업 "다시 보지 않기"
- 최근 스크롤 위치 저장
- JWT 토큰 저장 등

---

# 2. Session (세션)

> **Session은 사용자 정보를 서버 측에 저장하는 기술이다.**  
> 클라이언트를 구분하기 위해 서버가 **Session ID** 를 발급하며  
> 보안성이 Cookie보다 높다.

---

## Session 특징

- 데이터 저장 위치: **서버**
- 클라이언트에는 Session ID만 쿠키로 저장
- 보안성이 높음 (중요 데이터는 서버 보관)
- 단점: 사용자가 많아질수록 서버 메모리 부담 증가

---

## 2.1. Session 동작 원리

1. 클라이언트가 서버에 접속
2. 서버는 Session 생성 → 고유한 **Session ID 발급**
3. Session ID를 쿠키에 저장하여 클라이언트에 전달
4. 이후 요청에서 Session ID를 포함한 쿠키가 함께 전송됨
5. 서버는 Session ID를 통해 사용자의 정보를 조회하고 응답

---

## Session 사용 예시

- 로그인 유지
- 사용자 인증 관련 기능
- 보안이 중요한 기능들

---

# 3. Cache (캐시)

> **Cache는 자주 사용하는 데이터를 미리 저장해두는 고속 임시 저장소이다.**  
> 동일한 리소스(이미지, CSS, JS 등)를 다시 요청할 때  
> 저장된 값을 사용해 속도를 극대화한다.

---

## Cache 특징

- 저장 위치: Local(브라우저), 메모리, 서버 등 다양
- 자주 쓰이는 데이터 재사용 → 성능 향상
- 네트워크 비용 절감
- 저장 공간이 작지만 빠름

---

## Cache 동작

- 브라우저 캐시 사용 시 동일 리소스 요청 → 서버로 가지 않고 로컬에서 즉시 로드
- 초기 로딩보다 훨씬 빠르게 화면이 보여짐

---

## Cache Hit / Cache Miss

| 용어        | 설명                                 |
|-------------|--------------------------------------|
| Cache Hit   | 찾는 데이터가 Cache에 **존재함** → 빠르게 처리 |
| Cache Miss  | Cache에 없음 → 원본 저장소에서 다시 가져옴     |

---

# 정리

| 항목    | 저장 위치     | 특징                              | 보안성 |
|---------|---------------|-----------------------------------|--------|
| Cookie  | 클라이언트(브라우저) | 상태 유지용, 가볍지만 노출 위험 있음         | 낮음   |
| Session | 서버          | 로그인 등 중요한 정보 관리, 서버 부담 있음 | 높음  |
| Cache   | 로컬/메모리   | 성능 향상, 리소스 재사용                 | 중간  |

---

### 참고
> https://pinomaker.com/126
> https://mangkyu.tistory.com/69