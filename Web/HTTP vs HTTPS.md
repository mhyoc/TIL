# HTTP vs HTTPS 정리

## HTTP (HyperText Transfer Protocol)

> **HTTP**는 클라이언트와 서버가 웹에서 데이터를 주고받기 위해 사용하는 **애플리케이션 계층 프로토콜**이다.  
> 웹 브라우저가 서버로 요청을 보내면, 서버는 요청받은 리소스(HTML, CSS, JSON 등)를 클라이언트에게 반환한다.

### 특징
- **평문(암호화되지 않은) 데이터 전송**  
  제3자가 네트워크를 가로채면 데이터를 그대로 읽을 수 있다.
- **Stateless(무상태) 프로토콜**  
  요청 간 상태 정보를 유지하지 않는다.
- **기본 포트: 80**
- **TCP/IP 기반**  

### 단점
- **보안 취약**  
  패킷을 가로채면 비밀번호, 주민등록번호 같은 민감한 데이터를 쉽게 탈취할 수 있다.
- **신뢰성 부족**  
  서버의 신원을 보장할 수 없다.

---

## HTTPS (HyperText Transfer Protocol Secure)

> **HTTPS**는 HTTP에 **암호화(SSL/TLS)**를 추가하여 보안을 강화한 프로토콜이다.  
> 데이터를 주고받는 과정에서 제3자가 내용을 볼 수 없으며, 서버의 신뢰성을 검증할 수 있다.

### 특징
- **암호화된 통신(SSL/TLS) 사용**
- **기본 포트: 443**
- **대칭키 + 비대칭키 혼합 방식 사용**
  - 초기 연결: 공개키/개인키를 이용한 **비대칭키 암호화**
  - 실제 데이터 전송: **대칭키 암호화(세션키)**

---

## 암호화 방식

### 대칭키 암호화
- 하나의 동일한 키로 암호화/복호화  
- 빠르지만 키 노출 시 위험  
- 실제 데이터 전송에서 사용됨 (세션키)

### 비대칭키 암호화
- **공개키 + 개인키** 한 쌍  
- 공개키 암호화 → 개인키 복호화  
- 개인키 서명 → 공개키 검증  
- HTTPS 핸드셰이크에서 세션키 교환 시 사용

---

## HTTPS 동작 과정 (Handshake)

1. 클라이언트가 서버에 HTTPS 연결 요청  
2. 서버가 **인증서(공개키 포함)** 전달  
3. 브라우저가 **인증서 유효성 검사**  
4. 브라우저가 **세션키 생성 → 서버 공개키로 암호화 후 전송**  
5. 서버는 **개인키로 세션키 복호화**  
6. 양측은 동일한 세션키를 공유하고, 이후 모든 데이터는 대칭키로 암호화되어 전송됨

---

## 인증서 발급 과정

1. 서버가 공개키/개인키 생성  
2. CA(Certificate Authority)에 인증서 발급 요청  
3. CA가 서버 공개키·서버 정보 등을 포함한 **인증서 생성 → CA 개인키로 서명**  
4. 서버는 사용자에게 인증서 전달  
5. 브라우저는 **CA의 공개키로 서명 검증**  
6. 인증서가 신뢰되면 해당 서버 공개키를 이용해 세션키 교환 진행

---

## HTTP와 HTTPS 비교

| 항목 | HTTP | HTTPS |
|------|------|--------|
| **보안** | 취약 (평문 전송) | 안전 (SSL/TLS 암호화) |
| **속도** | 빠름 | 암호화 과정으로 약간 느림 (현대에서는 거의 차이 없음) |
| **포트** | 80 | 443 |
| **신뢰성** | 검증 불가 | 인증서 기반 서버 검증 가능 |
| **비용** | 무료 | 인증서 발급/유지 비용 발생 (Let’s Encrypt 등 무료도 존재) |

---

## 언제 HTTP? 언제 HTTPS?

- **HTTPS 필수**
  - 로그인/회원가입, 결제, 개인 정보 전송
  - 보안이 필요한 모든 서비스
  - SEO 중요할 때 (Google 권장)

- **HTTP 사용 가능**
  - 민감 정보가 전혀 없는 단순한 정보 조회  
  - (그러나 현대 웹에서는 일반적으로 HTTPS 권장)

---

### 참고
> (https://mangkyu.tistory.com/98)